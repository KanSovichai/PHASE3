<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="icon" href="../logo.jpg">
    <title>FINAL STAGE PHASE III</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            position: relative;
            overflow: hidden;
        }

        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 50%, rgba(255, 0, 100, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(0, 255, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 20%, rgba(100, 0, 255, 0.1) 0%, transparent 50%);
            animation: bgShift 15s ease-in-out infinite;
        }

        @keyframes bgShift {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 0.6; transform: scale(1.1); }
        }

        #title {
            position: relative;
            z-index: 1;
            text-align: center;
            margin-bottom: 40px;
            animation: titleFadeIn 1s ease-out;
        }

        @keyframes titleFadeIn {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        #title h1 {
            font-size: 3.5em;
            font-weight: 800;
            background: linear-gradient(135deg, #00f5ff 0%, #ff00ff 50%, #ffd700 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-transform: uppercase;
            letter-spacing: 4px;
            position: relative;
            text-shadow: 0 0 30px rgba(0, 245, 255, 0.3);
            animation: titleGlow 3s ease-in-out infinite;
        }

        @keyframes titleGlow {
            0%, 100% { filter: brightness(1) drop-shadow(0 0 20px rgba(0, 245, 255, 0.5)); }
            50% { filter: brightness(1.2) drop-shadow(0 0 40px rgba(255, 0, 255, 0.7)); }
        }

        #instruction {
            position: relative;
            z-index: 1;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 40px;
            max-width: 700px;
            margin-bottom: 50px;
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.5),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            animation: instructionFadeIn 1s ease-out 0.3s both;
        }

        @keyframes instructionFadeIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        #instruction pre {
            color: #e0e0e0;
            font-size: 1.1em;
            line-height: 1.8;
            white-space: pre-wrap;
            font-family: 'Courier New', monospace;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }

        #buttons {
            position: relative;
            z-index: 1;
            display: flex;
            gap: 30px;
            justify-content: center;
            flex-wrap: wrap;
            animation: buttonsFadeIn 1s ease-out 0.6s both;
        }

        @keyframes buttonsFadeIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        #buttons button {
            width: 140px;
            height: 140px;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2em;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 2px;
            position: relative;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 
                0 10px 30px rgba(0, 0, 0, 0.4),
                inset 0 2px 5px rgba(255, 255, 255, 0.2);
        }

        #buttons button::before {
            content: '';
            position: absolute;
            top: -4px;
            left: -4px;
            right: -4px;
            bottom: -4px;
            border-radius: 50%;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        #buttons button:hover::before {
            opacity: 1;
        }

        #buttons button:hover {
            transform: translateY(-10px) scale(1.05);
        }

        #buttons button:active {
            transform: translateY(-5px) scale(0.98);
        }

        #buttons button:nth-child(1) {
            background: linear-gradient(135deg, #ff0000 0%, #cc0000 100%);
            color: white;
            animation: buttonPulse 2s ease-in-out infinite;
        }

        #buttons button:nth-child(1)::before {
            background: linear-gradient(135deg, #ff3333 0%, #ff0000 100%);
            filter: blur(15px);
        }

        #buttons button:nth-child(1)::after {
            content: 'RED';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        #buttons button:nth-child(2) {
            background: linear-gradient(135deg, #00ff00 0%, #00cc00 100%);
            color: #003300;
            animation: buttonPulse 2s ease-in-out 0.2s infinite;
        }

        #buttons button:nth-child(2)::before {
            background: linear-gradient(135deg, #33ff33 0%, #00ff00 100%);
            filter: blur(15px);
        }

        #buttons button:nth-child(2)::after {
            content: 'GREEN';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        #buttons button:nth-child(3) {
            background: linear-gradient(135deg, #0000ff 0%, #0000cc 100%);
            color: white;
            animation: buttonPulse 2s ease-in-out 0.4s infinite;
        }

        #buttons button:nth-child(3)::before {
            background: linear-gradient(135deg, #3333ff 0%, #0000ff 100%);
            filter: blur(15px);
        }

        #buttons button:nth-child(3)::after {
            content: 'BLUE';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        @keyframes buttonPulse {
            0%, 100% {
                box-shadow: 
                    0 10px 30px rgba(0, 0, 0, 0.4),
                    inset 0 2px 5px rgba(255, 255, 255, 0.2),
                    0 0 20px currentColor;
            }
            50% {
                box-shadow: 
                    0 15px 40px rgba(0, 0, 0, 0.5),
                    inset 0 2px 5px rgba(255, 255, 255, 0.3),
                    0 0 40px currentColor;
            }
        }

        .particles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: white;
            border-radius: 50%;
            opacity: 0.3;
            animation: float linear infinite;
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) translateX(0) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.3;
            }
            90% {
                opacity: 0.3;
            }
            100% {
                transform: translateY(-10vh) translateX(100px) rotate(360deg);
                opacity: 0;
            }
        }

        @media (max-width: 768px) {
            #title h1 {
                font-size: 2.5em;
                letter-spacing: 2px;
            }

            #instruction {
                padding: 30px 20px;
                margin-bottom: 40px;
            }

            #instruction pre {
                font-size: 0.95em;
            }

            #buttons {
                gap: 20px;
            }

            #buttons button {
                width: 110px;
                height: 110px;
                font-size: 1em;
            }
        }
    </style>
</head>
<body>
    <div class="particles" id="particles"></div>
    
    <div id="title">
        <h1>Final Phase</h1>
    </div>
    
    <div id="instruction">
        <pre>The locked box has 3 buttons: Red, Green, and Blue. A note reads:

 1. If the Green button is pressed, the Red button will not trigger the alarm.
 2. If the Red button is safe, the Blue button will trigger the alarm.
 3. The Green button is pressed.

Question: Which button should the team press to safely unlock the box?</pre>
    </div>
    
    <div id="buttons">
        <button type="button" onclick="checkAnswer('correct')" value="correct"></button>
        <button type="button" onclick="checkAnswer('incorrect')" value="incorrect"></button>
        <button type="button" onclick="checkAnswer('incorrect')" value="incorrect"></button>
    </div>

    <script>
        // Create floating particles
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 50;

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDuration = (Math.random() * 10 + 10) + 's';
                particle.style.animationDelay = Math.random() * 5 + 's';
                particlesContainer.appendChild(particle);
            }
        }

        createParticles();

        function checkAnswer(value) {
            let selectBtn = value; 
            if (selectBtn == "correct") {
                Swal.fire({
                    title: "YOU ALL PASSED",
                    html: '<div style="font-size: 1.2em; margin-top: 20px;">üéâ Mission Accomplished! üéâ</div>',
                    width: 600,
                    padding: "3em",
                    color: "#ffffff",
                    background: "linear-gradient(135deg, #667eea 0%, #764ba2 100%)",
                    backdrop: `
                        rgba(0, 0, 0, 0.8)
                        url("https://media.giphy.com/media/26tPnAAJxXTvpLwJy/giphy.gif")
                        center center
                        no-repeat
                    `,
                    confirmButtonText: 'Continue',
                    confirmButtonColor: '#4CAF50',
                    customClass: {
                        popup: 'animated-popup'
                    }
                });
            } else {
                Swal.fire({
                    title: "Incorrect",
                    html: '<div style="font-size: 1.1em; margin-top: 15px;">‚ö†Ô∏è That triggers the alarm! Try again.</div>',
                    icon: 'error',
                    width: 500,
                    padding: "2em",
                    color: "#ffffff",
                    background: "linear-gradient(135deg, #ff5f6d 0%, #ffc371 100%)",
                    confirmButtonText: 'Try Again',
                    confirmButtonColor: '#e74c3c'
                });
            }
        }
    </script>
</body>
</html>